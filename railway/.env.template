# ERPNext on Railway â€” Option A (.env template)
# Copy keys into your Railway ERPNext service Environment tab.
# Use Variable References where possible (e.g., MariaDB.RAILWAY_PRIVATE_DOMAIN).
# This file is a guide; it is not automatically loaded by Railway.

# --- Database (MariaDB) ---
# Private host of your MariaDB service. In Railway, reference MariaDB.RAILWAY_PRIVATE_DOMAIN
DB_HOST=
DB_PORT=3306

# For the one-off create-site job, set this to your MariaDB root password (reference MariaDB.MARIADB_ROOT_PASSWORD)
DB_ROOT_PASSWORD=

# --- Redis ---
# If Redis has NO auth, use: <host>:6379
# If Redis HAS a password, use: :<password>@<host>:6379 (note the leading colon)
# Our configurator will produce redis:// URLs from these values.
REDIS_CACHE=
REDIS_QUEUE=

# --- HTTP routing ---
# Recommended: set to your ERPNext service's RAILWAY_PUBLIC_DOMAIN so nginx always serves this site.
# Example: my-service.up.railway.app
FRAPPE_SITE_NAME_HEADER=

# Optional: socket.io port used internally
SOCKETIO_PORT=9000

# --- One-off job variables (only when running create-site.sh) ---
# If FRAPPE_SITE_NAME_HEADER is empty, set SITE_NAME to the exact public domain.
SITE_NAME=
ADMIN_PASSWORD=

# --- Optional nginx tuning ---
PROXY_READ_TIMEOUT=120
CLIENT_MAX_BODY_SIZE=50m
# UPSTREAM_REAL_IP_* usually not needed on Railway, but exposed here if required
UPSTREAM_REAL_IP_ADDRESS=127.0.0.1
UPSTREAM_REAL_IP_HEADER=X-Forwarded-For
UPSTREAM_REAL_IP_RECURSIVE=off
